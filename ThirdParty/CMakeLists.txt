cmake_minimum_required(VERSION 3.27.1)

set(THIRD_PARTY_LIBS CACHE STRING "")
set(THIRD_PARTY_DEPENDENCIES CACHE STRING "")
set(THIRD_PARTY_INCLUDES CACHE STRING "")
set(THIRD_PARTY_SOURCES CACHE STRING "")

set(SPDLOG_BUILD_SHARED OFF CACHE BOOL "Build spdlog as static lib")
set(VMA_BUILD_SAMPLES OFF CACHE BOOL "Disable VulkanMemoryAllocator samples")

add_subdirectory(spdlog)
list(APPEND THIRD_PARTY_LIBS spdlog::spdlog)
list(APPEND THIRD_PARTY_DEPENDENCIES spdlog)

# VulkanMemoryAllocator
file(GLOB THIRD_PARTY_INCLUDES ${CMAKE_CURRENT_SOURCE_DIR}/VulkanMemoryAllocator/include)
file(GLOB_RECURSE THIRD_PARTY_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/VulkanMemoryAllocator/*.h)

add_subdirectory(yaml-cpp)
list(APPEND THIRD_PARTY_LIBS yaml-cpp::yaml-cpp)
list(APPEND THIRD_PARTY_DEPENDENCIES yaml-cpp)

set(THIRD_PARTY_LIBS "${THIRD_PARTY_LIBS}" PARENT_SCOPE)
set(THIRD_PARTY_DEPENDENCIES "${THIRD_PARTY_DEPENDENCIES}" PARENT_SCOPE)
set(THIRD_PARTY_INCLUDES "${THIRD_PARTY_INCLUDES}" PARENT_SCOPE)
set(THIRD_PARTY_SOURCES "${THIRD_PARTY_SOURCES}" PARENT_SCOPE)